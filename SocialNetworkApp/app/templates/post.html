<!--post-->
<div class="panel panel-default">
    <div class="panel-heading">
        <div class="row panel-body">
            <div class="post-profile-image col-md-4">
                <img ng-src="{{feed.author.profileImageData}}" alt=""/><br/>
            </div>

            <!--<div class="post-details col-md-8">-->
                <!--<span ng-click="popupPersonPreview(feed.author.name, $index)">-->
                    <!--<strong style="background: red">{{feed.author.name}}</strong> to {{feed.wallOwner.name}}-->
                <!--</span><br/>-->
                <!--<span>{{feed.date | date:'d MMM yyyy, HH:mm:ss'}}</span>-->
                <!--<div ng-mouseleave="hidePopupPreview()" ng-if="showPopup" style="background: red" class="popupPreview">-->
                    <!--{{feed.author.name}}-->
                <!--</div>-->
            <!--</div>-->
            <div class="post-details col-md-8">
                <span ng-init="showDiv = false;"
                      ng-click="popupPersonPreview(feed.author.username, $index);showDiv = true;">
                    <strong style="background: red">{{feed.author.name}}</strong> to {{feed.wallOwner.name}}
                </span><br/>
                <span>{{feed.date | date:'d MMM yyyy, HH:mm:ss'}}</span>

                <div ng-mouseleave="showDiv = false;" ng-show="showDiv" class="popupPreview">
                    <div class="modal-content">
                        <div class="modal-body">
                            {{userData.name}} / {{userData.gender | genderFilter}}
                            <img ng-src="{{userData.profileImageData}}" alt=""/>
                        </div>
                        <div class="modal-footer">
                            <button ng-if="!userData.isFriend && !userData.hasPendingRequest" ng-click="sendFriendRequest(userData.username)" type="button"
                                    class="btn btn-primary btn-xs" data-dismiss="modal">
                                Invite
                            </button>
                            <button ng-if="userData.isFriend" ng-disabled="true" type="button"
                                    class="btn btn-primary btn-xs" data-dismiss="modal">
                                Friends
                            </button>
                            <button ng-if="userData.hasPendingRequest" ng-disabled="true" type="button"
                                    class="btn btn-primary btn-xs" data-dismiss="modal">
                                Pending
                            </button>

                        </div>
                    </div>
                </div>

                <!--<div ng-mouseleave="showDiv = false;" ng-show="showDiv"-->
                     <!--style="background: red" class="popupPreview">-->
                    <!-- -->

                    <!--<button class="btn btn-primary btn-xs">-->
                        <!--Friends-->
                    <!--</button>-->
                    <!--<button ng-click="sendFriendRequest(userData.username)" class="btn btn-primary btn-xs">-->
                        <!--Send friend request-->
                    <!--</button>-->
                <!--</div>-->

            </div>

        </div>
    </div>
    <div class="panel-body">
        <div class="col-md-12"></div>
        {{feed.postContent}} <br/>
    </div>
    <div class="panel-heading">
        <span class="pull-right">
            Likes: <span class="badge">{{feed.likesCount}}</span>
        </span>
        <span class="pull-right">
            Comments: <span class="badge">{{feed.totalCommentsCount}}</span>
        </span>
        <a ng-if="isLiked(feed)" ng-click="likePost(feed)">
            <button class="btn btn-primary btn-xs">
                Like
            </button>
        </a>
        <a ng-if="isNotLiked(feed)" ng-click="unlikePost(feed)">
            <button class="btn btn-primary btn-xs">
                Unlike
            </button>
        </a>
        <a ng-click="showMoreComments(feed, $index)">
            <button class="btn btn-primary btn-xs">
                More comments
            </button>
        </a>
        <a ng-click="showLessComments()" >
            <button class="btn btn-primary btn-xs">
                Less comments
            </button>
        </a>
        <a>
            <button ng-click="showCommentArea = true;" ng-init="showCommentArea = false;"
                    ng-disabled="showCommentArea" class="btn btn-primary btn-xs">
                Comment
            </button>
        </a>
        <a>
            <button ng-click="deletePost(feed, $index)" class="btn btn-primary btn-xs">
                Delete
            </button>
        </a>
    </div>
</div>
<!--<div class="panel panel-default">-->
    <!--<textarea ng-model="comment"></textarea>-->
    <!--<button ng-click="addCommentToPost(feed, $index, comment)">Send</button>-->
<!--</div>-->

<div ng-show="showCommentArea" class="well bs-component col-md-10 pull-right">
    <form class="form-horizontal">
        <fieldset>
            <div class="form-group">
                <div class="col-lg-10">
                    <textarea ng-model="comment" class="form-control" rows="3" id="textArea" placeholder="Message"></textarea>
                </div>
            </div>

            <div class="form-group">
                <!--<div class="col-lg-10 col-lg-offset-1">-->
                    <button ng-click="addCommentToPost(feed, $index, comment)"
                            type="submit" class="btn btn-primary btn-xs pull-right">
                        Post comment
                    </button>
                    <button ng-click="showCommentArea = false;"
                            type="submit" class="btn btn-primary btn-xs pull-right">
                        Cancel comment
                    </button>
                <!--</div>-->
            </div>
        </fieldset>
    </form>
</div>

<div class="clearfix"></div>

<div ng-repeat="comment in feed.comments|limitTo: limit">
    {{parentIndex}}
    <div ng-include="'./templates/comment.html'" class="col-md-10 pull-right">

    </div>
    <div class="clearfix"></div>
</div>

<!--<div ng-if="isShowAllpostComments" ng-repeat="comment in allPostComments track by $index|limitTo: limit"-->
     <!--ng-include="'./templates/comment.html'" class="col-md-10 pull-right">-->
<!--</div>-->
<!--<div ng-if="isShowAllpostComments" ng-repeat="comment in allPostComments track by $index|limitTo: limit"-->
     <!--ng-include="'./templates/comment.html'" class="col-md-10 pull-right">-->
<!--</div>-->
<!--ng-if="isShowComment-->
<!--post-->
